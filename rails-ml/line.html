<html lang='en'>
<head>
  <title>Nyaplot</title>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.14/require.min.js"></script>
  <script>if(window['d3'] === undefined ||
   window['Nyaplot'] === undefined){
    var path = {"d3":"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min","downloadable":"http://cdn.rawgit.com/domitry/d3-downloadable/master/d3-downloadable"};



    var shim = {"d3":{"exports":"d3"},"downloadable":{"exports":"downloadable"}};

    require.config({paths: path, shim:shim});


require(['d3'], function(d3){window['d3']=d3;console.log('finished loading d3');require(['downloadable'], function(downloadable){window['downloadable']=downloadable;console.log('finished loading downloadable');

	var script = d3.select("head")
	    .append("script")
	    .attr("src", "http://cdn.rawgit.com/domitry/Nyaplotjs/master/release/nyaplot.js")
	    .attr("async", true);

	script[0][0].onload = script[0][0].onreadystatechange = function(){


	    var event = document.createEvent("HTMLEvents");
	    event.initEvent("load_nyaplot",false,false);
	    window.dispatchEvent(event);
	    console.log('Finished loading Nyaplotjs');

	};


});});
}
</script>
</head>
<body><div id='vis-3efcdbf6-2e36-46cf-97aa-8db72a4caaf8'></div>
<script>
(function(){
    var render = function(){
        var model = {"panes":[{"diagrams":[{"type":"scatter","options":{"x":"GROSS SQUARE FEET","y":"LAND SQUARE FEET"},"data":"f1de74c2-4f23-41cb-a622-5e7660c72845"}],"options":{"zoom":true,"width":700,"xrange":[4000,5994],"yrange":[6180,30000]}}],"data":{"f1de74c2-4f23-41cb-a622-5e7660c72845":[{"LAND SQUARE FEET":13390,"GROSS SQUARE FEET":5994,"SALE PRICE":1495000,"BOROUGH":5,"NEIGHBORHOOD":"ANNADALE ","TAX CLASS AT PRESENT":1,"BLOCK":6475,"LOT":85,"EASE-MENT":" ","BUILDING CLASS AT PRESENT":"A3","ZIP CODE":10312,"YEAR BUILT":2002,"TAX CLASS AT TIME OF SALE":1,"BUILDING CLASS AT TIME OF SALE":" A3 ","SALE DATE":"7/28/2015"},{"LAND SQUARE FEET":6180,"GROSS SQUARE FEET":4808,"SALE PRICE":975000,"BOROUGH":5,"NEIGHBORHOOD":"ANNADALE ","TAX CLASS AT PRESENT":1,"BLOCK":6370,"LOT":4,"EASE-MENT":" ","BUILDING CLASS AT PRESENT":"A3","ZIP CODE":10312,"YEAR BUILT":1990,"TAX CLASS AT TIME OF SALE":1,"BUILDING CLASS AT TIME OF SALE":" A3 ","SALE DATE":"11/20/2015"},{"LAND SQUARE FEET":13406,"GROSS SQUARE FEET":4180,"SALE PRICE":1199000,"BOROUGH":5,"NEIGHBORHOOD":"ANNADALE ","TAX CLASS AT PRESENT":1,"BLOCK":5394,"LOT":4,"EASE-MENT":" ","BUILDING CLASS AT PRESENT":"A2","ZIP CODE":10312,"YEAR BUILT":1982,"TAX CLASS AT TIME OF SALE":1,"BUILDING CLASS AT TIME OF SALE":" A2 ","SALE DATE":"8/26/2015"},{"LAND SQUARE FEET":8000,"GROSS SQUARE FEET":4011,"SALE PRICE":865000,"BOROUGH":5,"NEIGHBORHOOD":"ANNADALE ","TAX CLASS AT PRESENT":1,"BLOCK":6222,"LOT":54,"EASE-MENT":" ","BUILDING CLASS AT PRESENT":"A1","ZIP CODE":10312,"YEAR BUILT":2000,"TAX CLASS AT TIME OF SALE":1,"BUILDING CLASS AT TIME OF SALE":" A1 ","SALE DATE":"1/12/2015"},{"LAND SQUARE FEET":30000,"GROSS SQUARE FEET":4000,"SALE PRICE":470000,"BOROUGH":5,"NEIGHBORHOOD":"ANNADALE ","TAX CLASS AT PRESENT":1,"BLOCK":6499,"LOT":40,"EASE-MENT":" ","BUILDING CLASS AT PRESENT":"A1","ZIP CODE":10312,"YEAR BUILT":1985,"TAX CLASS AT TIME OF SALE":1,"BUILDING CLASS AT TIME OF SALE":" A1 ","SALE DATE":"4/30/2015"}]},"extension":[]}
        var id_name = '#vis-3efcdbf6-2e36-46cf-97aa-8db72a4caaf8';
        Nyaplot.core.parse(model, id_name);

        require(['downloadable'], function(downloadable){
          var svg = d3.select(id_name).select("svg");
	  if(!svg.empty())
	    svg.call(downloadable().filename('fig'));
	});
    };
    if(window['Nyaplot']==undefined){
        window.addEventListener('load_nyaplot', render, false);
	return;
    } else {
       render();
    }
})();
</script>
</body>
</html>
